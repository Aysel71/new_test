<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calibri - AI-powered job search</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Manrope', -apple-system, BlinkMacSystemFont, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease-out both;
        }

        .animate-slide-up {
            animation: slideUp 0.6s ease-out both;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, #22d3ee, #3b82f6);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(to bottom, #06b6d4, #2563eb);
        }

        /* Hide scrollbar for mobile navigation */
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Lucide React Icons (simplified inline versions)
        const Settings = ({ className = "w-4 h-4" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v6m-9-9h6m6 0h6"/>
            </svg>
        );

        const Calendar = ({ className = "w-4 h-4" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
        );

        const FileText = ({ className = "w-4 h-4" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/>
            </svg>
        );

        const Bell = ({ className = "w-4 h-4" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/>
            </svg>
        );

        const User = ({ className = "w-4 h-4" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/>
            </svg>
        );

        const X = ({ className = "w-4 h-4" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
        );

        const Eye = ({ className = "w-4 h-4" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/>
            </svg>
        );

        const ThumbsUp = ({ className = "w-4 h-4" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"/>
            </svg>
        );

        const ThumbsDown = ({ className = "w-4 h-4" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"/>
            </svg>
        );

        // FilterSettings Component
        const FilterSettings = ({ setCurrentPage, currentPage, setShowUserProfile }) => {
            const [subNavOpen, setSubNavOpen] = useState(false);
            const [keywords, setKeywords] = useState(['Дизайнер', 'UX/UI']);
            const [keywordInput, setKeywordInput] = useState('');
            const [excludeWords, setExcludeWords] = useState([]);
            const [excludeInput, setExcludeInput] = useState('');
            const [regions, setRegions] = useState(['Москва']);
            const [regionInput, setRegionInput] = useState('');
            const [specialization, setSpecialization] = useState('Любая');
            const [specializationInput, setSpecializationInput] = useState('');
            const [salaryFrom, setSalaryFrom] = useState('');
            const [paymentPeriod, setPaymentPeriod] = useState('');
            const [currency, setCurrency] = useState('Рубли');
            const [experience, setExperience] = useState({
                noMatter: true,
                noExperience: true,
                oneToThree: true,
                threeToSix: false,
                moreThanSix: false
            });
            const [workFormat, setWorkFormat] = useState({
                onSite: true,
                remote: true,
                hybrid: true,
                partTime: true
            });

            const removeKeyword = (keyword) => {
                setKeywords(keywords.filter(k => k !== keyword));
            };

            const addKeyword = (e) => {
                if (e.key === 'Enter' && keywordInput.trim()) {
                    e.preventDefault();
                    if (!keywords.includes(keywordInput.trim())) {
                        setKeywords([...keywords, keywordInput.trim()]);
                    }
                    setKeywordInput('');
                }
            };

            const removeExcludeWord = (word) => {
                setExcludeWords(excludeWords.filter(w => w !== word));
            };

            const addExcludeWord = (e) => {
                if (e.key === 'Enter' && excludeInput.trim()) {
                    e.preventDefault();
                    if (!excludeWords.includes(excludeInput.trim())) {
                        setExcludeWords([...excludeWords, excludeInput.trim()]);
                    }
                    setExcludeInput('');
                }
            };

            const removeRegion = (region) => {
                setRegions(regions.filter(r => r !== region));
            };

            const addRegion = (e) => {
                if (e.key === 'Enter' && regionInput.trim()) {
                    e.preventDefault();
                    if (!regions.includes(regionInput.trim())) {
                        setRegions([...regions, regionInput.trim()]);
                    }
                    setRegionInput('');
                }
            };

            const updateExperience = (key) => {
                setExperience({...experience, [key]: !experience[key]});
            };

            const updateWorkFormat = (key) => {
                setWorkFormat({...workFormat, [key]: !workFormat[key]});
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-50 via-cyan-50/30 to-blue-50">
                    {/* Navigation */}
                    <nav className="bg-white/80 backdrop-blur-lg border-b border-slate-200/60 sticky top-0 z-50">
                        <div className="max-w-7xl mx-auto px-8 py-4">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center gap-3">
                                    <svg width="48" height="48" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" className="hover:scale-110 transition-transform duration-300">
                                        <defs>
                                            <linearGradient id="birdGrad1" x1="0%" y1="0%" x2="100%" y2="100%">
                                                <stop offset="0%" style={{stopColor: '#06b6d4', stopOpacity: 1}} />
                                                <stop offset="50%" style={{stopColor: '#3b82f6', stopOpacity: 1}} />
                                                <stop offset="100%" style={{stopColor: '#8b5cf6', stopOpacity: 1}} />
                                            </linearGradient>
                                        </defs>
                                        <path d="M 30 50 Q 25 45, 20 47 Q 15 49, 13 53 Q 11 57, 13 61 Q 15 65, 20 67 L 25 69 L 27 71 Q 29 72, 31 71 L 33 69 Q 35 67, 35 65 L 35 55 Z" fill="url(#birdGrad1)"/>
                                        <circle cx="17" cy="50" r="6" fill="url(#birdGrad1)"/>
                                        <path d="M 11 50 L 3 48 Q 1 48, 1 50 Q 1 52, 3 52 L 11 50 Z" fill="#22d3ee"/>
                                        <path d="M 27 57 Q 33 53, 40 55 Q 45 57, 47 61 Q 49 65, 45 67 Q 41 69, 35 67 L 27 63 Z" fill="url(#birdGrad1)" opacity="0.9"/>
                                        <path d="M 29 61 Q 35 59, 41 63 Q 45 67, 43 71 Q 41 75, 35 73 L 29 69 Z" fill="url(#birdGrad1)" opacity="0.7"/>
                                        <path d="M 31 71 Q 35 75, 37 80 Q 39 85, 35 87 Q 31 85, 29 80 Z" fill="url(#birdGrad1)" opacity="0.8"/>
                                        <path d="M 33 71 Q 39 73, 43 77 Q 47 81, 45 85 Q 41 83, 37 79 Z" fill="url(#birdGrad1)" opacity="0.6"/>
                                        <circle cx="15" cy="49" r="1.5" fill="white"/>
                                    </svg>
                                    <div>
                                        <h1 className="text-3xl font-bold" style={{
                                            background: 'linear-gradient(135deg, #6366f1 0%, #8b5cf6 25%, #a855f7 50%, #c026d3 75%, #d946ef 100%)',
                                            WebkitBackgroundClip: 'text',
                                            WebkitTextFillColor: 'transparent',
                                            backgroundClip: 'text'
                                        }}>
                                            Colibri
                                        </h1>
                                        <p className="text-sm text-slate-500 font-medium">AI-powered job search</p>
                                    </div>
                                </div>
                                
                                <div className="flex items-center gap-6">
                                    <button 
                                        onClick={() => setCurrentPage('filters')}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${
                                            currentPage === 'filters' 
                                                ? 'text-blue-600 bg-blue-50 font-medium' 
                                                : 'hover:bg-slate-100'
                                        }`}>
                                        <Settings className="w-4 h-4" />
                                        <span className="hidden lg:inline">Настройки откликов</span>
                                    </button>
                                    <button 
                                        onClick={() => setCurrentPage('calendar')}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${
                                            currentPage === 'calendar' 
                                                ? 'text-blue-600 bg-blue-50 font-medium' 
                                                : 'hover:bg-slate-100'
                                        }`}>
                                        <Calendar className="w-4 h-4" />
                                        <span className="hidden lg:inline">Календарь</span>
                                    </button>
                                    <button 
                                        onClick={() => setCurrentPage('applications')}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${
                                            currentPage === 'applications' 
                                                ? 'text-blue-600 bg-blue-50 font-medium' 
                                                : 'hover:bg-slate-100'
                                        }`}>
                                        <FileText className="w-4 h-4" />
                                        <span className="hidden lg:inline">Отклики</span>
                                    </button>
                                    <button className="p-2 hover:bg-slate-100 rounded-lg transition-all duration-200">
                                        <Bell className="w-5 h-5" />
                                    </button>
                                    <div 
                                        onClick={() => setShowUserProfile && setShowUserProfile(true)}
                                        className="w-10 h-10 rounded-full overflow-hidden border-2 border-cyan-400 hover:border-cyan-500 transition-colors cursor-pointer"
                                    >
                                        <img src="https://i.pravatar.cc/150?img=12" alt="User" className="w-full h-full object-cover" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </nav>

                    {/* Sub Navigation */}
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6">
                        {/* Mobile Dropdown */}
                        <div className="sm:hidden">
                            <button
                                onClick={() => setSubNavOpen(!subNavOpen)}
                                className="w-full flex items-center justify-between px-4 py-3 bg-white shadow-lg shadow-blue-500/10 rounded-lg font-medium text-blue-600 border border-blue-200"
                            >
                                <div className="flex items-center gap-2">
                                    <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M3 6h18M7 12h10M10 18h4" strokeWidth="2" strokeLinecap="round"/>
                                    </svg>
                                    <span>Фильтры</span>
                                </div>
                                <svg 
                                    className={`w-5 h-5 transition-transform duration-200 ${subNavOpen ? 'rotate-180' : ''}`}
                                    fill="none" 
                                    viewBox="0 0 24 24" 
                                    stroke="currentColor"
                                >
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            {subNavOpen && (
                                <div className="mt-2 bg-white rounded-lg shadow-lg border border-slate-200 overflow-hidden">
                                    <button 
                                        onClick={() => {
                                            setCurrentPage('resume');
                                            setSubNavOpen(false);
                                        }}
                                        className="w-full flex items-center gap-2 px-4 py-3 hover:bg-slate-50 transition-colors text-left"
                                    >
                                        <FileText className="w-4 h-4" />
                                        <span>Выбор резюме</span>
                                    </button>
                                    <button 
                                        onClick={() => {
                                            setCurrentPage('templates');
                                            setSubNavOpen(false);
                                        }}
                                        className="w-full flex items-center gap-2 px-4 py-3 hover:bg-slate-50 transition-colors text-left"
                                    >
                                        <Settings className="w-4 h-4" />
                                        <span>Конструктор сопроводительного</span>
                                    </button>
                                    <button 
                                        className="w-full flex items-center gap-2 px-4 py-3 bg-blue-50 text-blue-600 font-medium"
                                    >
                                        <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M3 6h18M7 12h10M10 18h4" strokeWidth="2" strokeLinecap="round"/>
                                        </svg>
                                        <span>Настройки фильтров</span>
                                    </button>
                                </div>
                            )}
                        </div>
                        {/* Desktop Navigation */}
                        <div className="hidden sm:flex items-center gap-2 sm:gap-4 lg:gap-6">
                            <button 
                                onClick={() => setCurrentPage('resume')}
                                className="flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 text-xs sm:text-sm lg:text-base hover:bg-white/60 rounded-lg transition-all duration-200 whitespace-nowrap flex-shrink-0">
                                <FileText className="w-3.5 h-3.5 sm:w-4 sm:h-4" />
                                <span>Выбор резюме</span>
                            </button>
                            <button 
                                onClick={() => setCurrentPage('templates')}
                                className="flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 text-xs sm:text-sm lg:text-base hover:bg-white/60 rounded-lg transition-all duration-200 flex-shrink-0">
                                <Settings className="w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0" />
                                <span className="whitespace-nowrap">Конструктор сопроводительного</span>
                            </button>
                            <button className="flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 text-xs sm:text-sm lg:text-base bg-white shadow-lg shadow-blue-500/10 rounded-lg font-medium text-blue-600 border border-blue-200 whitespace-nowrap flex-shrink-0">
                                <svg className="w-3.5 h-3.5 sm:w-4 sm:h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M3 6h18M7 12h10M10 18h4" strokeWidth="2" strokeLinecap="round"/>
                                </svg>
                                <span>Настройки фильтров</span>
                            </button>
                        </div>
                    </div>

                    {/* Main Content */}
                    <div className="max-w-4xl mx-auto px-8 py-8">
                        <div className="bg-white/70 backdrop-blur-xl rounded-3xl shadow-2xl shadow-cyan-500/10 p-10 border border-white/60">
                            <h2 className="text-4xl font-bold text-slate-800 mb-10">Настройки фильтров</h2>

                            {/* Keywords */}
                            <div className="mb-10">
                                <label className="block text-lg font-semibold text-slate-700 mb-4">Ключевые слова</label>
                                <div className="flex flex-wrap gap-3 mb-4">
                                    {keywords.map((keyword) => (
                                        <span key={keyword} className="inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-full font-medium shadow-lg shadow-cyan-500/30 hover:shadow-xl hover:shadow-cyan-500/40 transition-all duration-300 transform hover:scale-105">
                                            {keyword}
                                            <button onClick={() => removeKeyword(keyword)} className="hover:bg-white/20 rounded-full p-1">
                                                <X className="w-4 h-4" />
                                            </button>
                                        </span>
                                    ))}
                                </div>
                                <input
                                    type="text"
                                    value={keywordInput}
                                    onChange={(e) => setKeywordInput(e.target.value)}
                                    onKeyDown={addKeyword}
                                    placeholder="Профессия, должность, грейд (нажмите Enter для добавления)"
                                    className="w-full px-5 py-3 border-2 border-slate-200 rounded-xl focus:border-cyan-400 focus:ring-4 focus:ring-cyan-400/20 outline-none transition-all duration-200 font-medium"
                                />
                            </div>

                            {/* Exclude Words */}
                            <div className="mb-10">
                                <label className="block text-lg font-semibold text-slate-700 mb-4">Исключить слова</label>
                                <div className="flex flex-wrap gap-3 mb-4">
                                    {excludeWords.map((word) => (
                                        <span key={word} className="inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-rose-500 to-red-500 text-white rounded-full font-medium shadow-lg shadow-rose-500/30 hover:shadow-xl hover:shadow-rose-500/40 transition-all duration-300 transform hover:scale-105">
                                            {word}
                                            <button onClick={() => removeExcludeWord(word)} className="hover:bg-white/20 rounded-full p-1">
                                                <X className="w-4 h-4" />
                                            </button>
                                        </span>
                                    ))}
                                </div>
                                <input
                                    type="text"
                                    value={excludeInput}
                                    onChange={(e) => setExcludeInput(e.target.value)}
                                    onKeyDown={addExcludeWord}
                                    placeholder="Исключить слова (нажмите Enter для добавления)"
                                    className="w-full px-5 py-3 border-2 border-slate-200 rounded-xl focus:border-cyan-400 focus:ring-4 focus:ring-cyan-400/20 outline-none transition-all duration-200"
                                />
                            </div>

                            {/* Specialization */}
                            <div className="mb-10">
                                <label className="block text-lg font-semibold text-slate-700 mb-4">Специализация</label>
                                <div className="flex items-center gap-4 flex-wrap">
                                    <span className="px-4 py-2 bg-slate-100 rounded-lg font-medium">{specialization}</span>
                                    {specialization === 'Любая' ? (
                                        <button 
                                            onClick={() => setSpecialization('')}
                                            className="text-cyan-600 font-medium hover:text-cyan-700 transition-colors">
                                            Указать специализации
                                        </button>
                                    ) : (
                                        <button 
                                            onClick={() => setSpecialization('Любая')}
                                            className="text-cyan-600 font-medium hover:text-cyan-700 transition-colors">
                                            Сбросить
                                        </button>
                                    )}
                                </div>
                                {specialization !== 'Любая' && (
                                    <input
                                        type="text"
                                        value={specializationInput}
                                        onChange={(e) => {
                                            setSpecializationInput(e.target.value);
                                            setSpecialization(e.target.value);
                                        }}
                                        placeholder="Введите специализацию"
                                        className="w-full mt-4 px-5 py-3 border-2 border-slate-200 rounded-xl focus:border-cyan-400 focus:ring-4 focus:ring-cyan-400/20 outline-none transition-all duration-200"
                                    />
                                )}
                            </div>

                            {/* Region */}
                            <div className="mb-10">
                                <label className="block text-lg font-semibold text-slate-700 mb-4">Регион</label>
                                <div className="flex flex-wrap gap-3 mb-4">
                                    {regions.map((region) => (
                                        <span key={region} className="inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full font-medium shadow-lg shadow-purple-500/30">
                                            {region}
                                            <button onClick={() => removeRegion(region)} className="hover:bg-white/20 rounded-full p-1">
                                                <X className="w-4 h-4" />
                                            </button>
                                        </span>
                                    ))}
                                </div>
                                <input
                                    type="text"
                                    value={regionInput}
                                    onChange={(e) => setRegionInput(e.target.value)}
                                    onKeyDown={addRegion}
                                    placeholder="Введите название региона (нажмите Enter для добавления)"
                                    className="w-full px-5 py-3 border-2 border-slate-200 rounded-xl focus:border-cyan-400 focus:ring-4 focus:ring-cyan-400/20 outline-none transition-all duration-200"
                                />
                            </div>

                            {/* Income Level */}
                            <div className="mb-10">
                                <label className="block text-lg font-semibold text-slate-700 mb-4">Уровень дохода</label>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                    <input
                                        type="text"
                                        value={salaryFrom}
                                        onChange={(e) => setSalaryFrom(e.target.value)}
                                        placeholder="от"
                                        className="px-5 py-3 border-2 border-slate-200 rounded-xl focus:border-cyan-400 focus:ring-4 focus:ring-cyan-400/20 outline-none transition-all duration-200"
                                    />
                                    <input
                                        type="text"
                                        value={paymentPeriod}
                                        onChange={(e) => setPaymentPeriod(e.target.value)}
                                        placeholder="Период выплат"
                                        className="px-5 py-3 border-2 border-slate-200 rounded-xl focus:border-cyan-400 focus:ring-4 focus:ring-cyan-400/20 outline-none transition-all duration-200"
                                    />
                                </div>
                                <div className="flex gap-3 flex-wrap">
                                    {['Рубли', 'Евро', 'Доллары'].map((curr) => (
                                        <button
                                            key={curr}
                                            onClick={() => setCurrency(curr)}
                                            className={`px-6 py-2 rounded-full font-medium transition-all duration-300 ${
                                                currency === curr
                                                    ? 'bg-gradient-to-r from-cyan-400 to-cyan-500 text-white shadow-lg shadow-cyan-400/40'
                                                    : 'bg-slate-100 text-slate-600 hover:bg-slate-200'
                                            }`}
                                        >
                                            {curr}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            {/* Experience */}
                            <div className="mb-10">
                                <label className="block text-lg font-semibold text-slate-700 mb-4">Требуемый опыт</label>
                                <div className="space-y-3">
                                    {[
                                        { key: 'noMatter', label: 'Не имеет значения' },
                                        { key: 'noExperience', label: 'Нет опыта' },
                                        { key: 'oneToThree', label: 'От 1 года до 3 лет' },
                                        { key: 'threeToSix', label: 'От 3 до 6 лет' },
                                        { key: 'moreThanSix', label: 'Более 6 лет' }
                                    ].map(({ key, label }) => (
                                        <label key={key} className="flex items-center gap-3 cursor-pointer group">
                                            <div 
                                                onClick={() => updateExperience(key)}
                                                className={`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-200 ${
                                                    experience[key]
                                                        ? 'bg-gradient-to-br from-cyan-400 to-cyan-500 border-cyan-500'
                                                        : 'border-slate-300 group-hover:border-cyan-400'
                                                }`}>
                                                {experience[key] && (
                                                    <svg className="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={3} d="M5 13l4 4L19 7" />
                                                    </svg>
                                                )}
                                            </div>
                                            <span className="text-slate-700 font-medium group-hover:text-slate-900 transition-colors">{label}</span>
                                        </label>
                                    ))}
                                </div>
                            </div>

                            {/* Work Format */}
                            <div>
                                <label className="block text-lg font-semibold text-slate-700 mb-4">Формат работы</label>
                                <div className="space-y-3">
                                    {[
                                        { key: 'onSite', label: 'На месте работодателя' },
                                        { key: 'remote', label: 'Удаленно' },
                                        { key: 'hybrid', label: 'Гибрид' },
                                        { key: 'partTime', label: 'Разъездной' }
                                    ].map(({ key, label }) => (
                                        <label key={key} className="flex items-center gap-3 cursor-pointer group">
                                            <div 
                                                onClick={() => updateWorkFormat(key)}
                                                className={`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-200 ${
                                                    workFormat[key]
                                                        ? 'bg-gradient-to-br from-cyan-400 to-cyan-500 border-cyan-500'
                                                        : 'border-slate-300 group-hover:border-cyan-400'
                                                }`}>
                                                {workFormat[key] && (
                                                    <svg className="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={3} d="M5 13l4 4L19 7" />
                                                    </svg>
                                                )}
                                            </div>
                                            <span className="text-slate-700 font-medium group-hover:text-slate-900 transition-colors">{label}</span>
                                        </label>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Applications Component - С ИЗМЕНЕНИЯМИ
        const Applications = ({ setCurrentPage, currentPage, setShowUserProfile }) => {
            const [applications, setApplications] = useState([
                {
                    id: 1,
                    position: 'UX/UI-дизайнер',
                    company: 'Четыре Решения',
                    salary: '150k-200k ₽',
                    date: '31.10.2025',
                    status: 'Отклик',
                    statusColor: 'blue',
                    action: null
                },
                {
                    id: 2,
                    position: 'UX/UI-дизайнер',
                    company: 'Arevion Electrics',
                    salary: '120k-180k ₽',
                    date: '31.10.2025',
                    status: 'Отклик',
                    statusColor: 'blue',
                    action: null
                },
                {
                    id: 3,
                    position: 'Senior Product Designer',
                    company: 'БорисХоф',
                    salary: '200k-250k ₽',
                    date: '30.10.2025',
                    status: 'Интервью',
                    statusColor: 'green',
                    action: null
                },
                {
                    id: 4,
                    position: 'Lead UX Designer',
                    company: 'Тинькоff',
                    salary: '250k-300k ₽',
                    date: '29.10.2025',
                    status: 'Интервью',
                    statusColor: 'green',
                    action: null
                },
                {
                    id: 5,
                    position: 'UI Designer',
                    company: 'Авито',
                    salary: '140k-190k ₽',
                    date: '28.10.2025',
                    status: 'Отклик',
                    statusColor: 'blue',
                    action: null
                }
            ]);

            const handleAction = (id, actionType) => {
                setApplications(apps => apps.map(app => 
                    app.id === id 
                        ? { ...app, action: app.action === actionType ? null : actionType }
                        : app
                ));
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-50 via-purple-50/20 to-pink-50/20">
                    {/* Navigation */}
                    <nav className="bg-white/80 backdrop-blur-lg border-b border-slate-200/60 sticky top-0 z-50">
                        <div className="max-w-7xl mx-auto px-8 py-4">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center gap-3">
                                    <svg width="48" height="48" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" className="hover:scale-110 transition-transform duration-300">
                                        <defs>
                                            <linearGradient id="birdGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
                                                <stop offset="0%" style={{stopColor: '#06b6d4', stopOpacity: 1}} />
                                                <stop offset="50%" style={{stopColor: '#3b82f6', stopOpacity: 1}} />
                                                <stop offset="100%" style={{stopColor: '#8b5cf6', stopOpacity: 1}} />
                                            </linearGradient>
                                        </defs>
                                        <path d="M 30 50 Q 25 45, 20 47 Q 15 49, 13 53 Q 11 57, 13 61 Q 15 65, 20 67 L 25 69 L 27 71 Q 29 72, 31 71 L 33 69 Q 35 67, 35 65 L 35 55 Z" fill="url(#birdGrad2)"/>
                                        <circle cx="17" cy="50" r="6" fill="url(#birdGrad2)"/>
                                        <path d="M 11 50 L 3 48 Q 1 48, 1 50 Q 1 52, 3 52 L 11 50 Z" fill="#22d3ee"/>
                                        <path d="M 27 57 Q 33 53, 40 55 Q 45 57, 47 61 Q 49 65, 45 67 Q 41 69, 35 67 L 27 63 Z" fill="url(#birdGrad2)" opacity="0.9"/>
                                        <path d="M 29 61 Q 35 59, 41 63 Q 45 67, 43 71 Q 41 75, 35 73 L 29 69 Z" fill="url(#birdGrad2)" opacity="0.7"/>
                                        <path d="M 31 71 Q 35 75, 37 80 Q 39 85, 35 87 Q 31 85, 29 80 Z" fill="url(#birdGrad2)" opacity="0.8"/>
                                        <path d="M 33 71 Q 39 73, 43 77 Q 47 81, 45 85 Q 41 83, 37 79 Z" fill="url(#birdGrad2)" opacity="0.6"/>
                                        <circle cx="15" cy="49" r="1.5" fill="white"/>
                                    </svg>
                                    <div>
                                        <h1 className="text-3xl font-bold" style={{
                                            background: 'linear-gradient(135deg, #6366f1 0%, #8b5cf6 25%, #a855f7 50%, #c026d3 75%, #d946ef 100%)',
                                            WebkitBackgroundClip: 'text',
                                            WebkitTextFillColor: 'transparent',
                                            backgroundClip: 'text'
                                        }}>
                                            Colibri
                                        </h1>
                                        <p className="text-sm text-slate-500 font-medium">AI-powered job search</p>
                                    </div>
                                </div>
                                
                                <div className="flex items-center gap-6">
                                    <button 
                                        onClick={() => setCurrentPage('filters')}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${
                                            currentPage === 'filters' 
                                                ? 'text-blue-600 bg-blue-50 font-medium' 
                                                : 'hover:bg-slate-100'
                                        }`}>
                                        <Settings className="w-4 h-4" />
                                        <span className="hidden lg:inline">Настройки откликов</span>
                                    </button>
                                    <button 
                                        onClick={() => setCurrentPage('calendar')}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${
                                            currentPage === 'calendar' 
                                                ? 'text-blue-600 bg-blue-50 font-medium' 
                                                : 'hover:bg-slate-100'
                                        }`}>
                                        <Calendar className="w-4 h-4" />
                                        <span className="hidden lg:inline">Календарь</span>
                                    </button>
                                    <button 
                                        onClick={() => setCurrentPage('applications')}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${
                                            currentPage === 'applications' 
                                                ? 'text-blue-600 bg-blue-50 font-medium' 
                                                : 'hover:bg-slate-100'
                                        }`}>
                                        <FileText className="w-4 h-4" />
                                        <span className="hidden lg:inline">Отклики</span>
                                    </button>
                                    <button className="p-2 hover:bg-slate-100 rounded-lg transition-all duration-200">
                                        <Bell className="w-5 h-5" />
                                    </button>
                                    <div 
                                        onClick={() => setShowUserProfile && setShowUserProfile(true)}
                                        className="w-10 h-10 rounded-full overflow-hidden border-2 border-cyan-400 hover:border-cyan-500 transition-colors cursor-pointer"
                                    >
                                        <img src="https://i.pravatar.cc/150?img=12" alt="User" className="w-full h-full object-cover" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </nav>

                    {/* Main Content */}
                    <div className="max-w-7xl mx-auto px-8 py-8">
                        <div className="bg-white/70 backdrop-blur-xl rounded-3xl shadow-2xl shadow-purple-500/10 overflow-hidden border border-white/60">
                            {/* Desktop Table View */}
                            <div className="hidden lg:block">
                                <div className="grid grid-cols-6 gap-4 px-8 py-5 bg-gradient-to-r from-slate-50 to-slate-100/50 border-b border-slate-200/60 font-semibold text-slate-600 text-sm">
                                    <div>Название позиции</div>
                                    <div>Компания</div>
                                    <div>Зарплата</div>
                                    <div>Отклик отправлен</div>
                                    <div>Статус</div>
                                    <div>Действия</div>
                                </div>

                                <div className="divide-y divide-slate-200/60">
                                    {applications.map((app, index) => (
                                        <div 
                                            key={app.id} 
                                            className="grid grid-cols-6 gap-4 px-8 py-6 hover:bg-gradient-to-r hover:from-cyan-50/50 hover:to-blue-50/50 transition-all duration-300 items-center group animate-fade-in"
                                            style={{ animationDelay: `${index * 0.1}s` }}
                                        >
                                            <div className="font-bold text-slate-800 group-hover:text-cyan-600 transition-colors">
                                                {app.position}
                                            </div>
                                            <div className="text-slate-600 font-medium">{app.company}</div>
                                            <div className="text-slate-800 font-semibold">{app.salary}</div>
                                            <div className="text-slate-600">{app.date}</div>
                                            <div>
                                                <span className={`inline-block px-4 py-2 rounded-full font-medium ${
                                                    app.statusColor === 'blue' 
                                                        ? 'bg-blue-100 text-blue-700' 
                                                        : 'bg-green-100 text-green-700'
                                                }`}>
                                                    {app.status}
                                                </span>
                                            </div>
                                            <div className="flex items-center gap-3">
                                                <button 
                                                    onClick={() => handleAction(app.id, 'like')}
                                                    className={`p-2 rounded-lg transition-all duration-200 ${
                                                        app.action === 'like'
                                                            ? 'bg-emerald-100 shadow-md'
                                                            : 'hover:bg-emerald-50'
                                                    }`}
                                                >
                                                    <ThumbsUp className={`w-5 h-5 transition-colors ${
                                                        app.action === 'like'
                                                            ? 'text-emerald-600'
                                                            : 'text-slate-400'
                                                    }`} />
                                                </button>
                                                <button 
                                                    onClick={() => handleAction(app.id, 'dislike')}
                                                    className={`p-2 rounded-lg transition-all duration-200 ${
                                                        app.action === 'dislike'
                                                            ? 'bg-rose-100 shadow-md'
                                                            : 'hover:bg-rose-50'
                                                    }`}
                                                >
                                                    <ThumbsDown className={`w-5 h-5 transition-colors ${
                                                        app.action === 'dislike'
                                                            ? 'text-rose-600'
                                                            : 'text-slate-400'
                                                    }`} />
                                                </button>
                                                <button className="p-2 hover:bg-blue-100 rounded-lg transition-all duration-200 group/btn">
                                                    <Eye className="w-5 h-5 text-slate-400 group-hover/btn:text-blue-600 transition-colors" />
                                                </button>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Mobile Card View */}
                            <div className="lg:hidden divide-y divide-slate-200/60">
                                {applications.map((app, index) => (
                                    <div key={app.id} className="p-6 space-y-4">
                                        <div className="flex justify-between items-start">
                                            <div>
                                                <h3 className="font-bold text-slate-800 text-lg mb-1">{app.position}</h3>
                                                <p className="text-slate-600 font-medium">{app.company}</p>
                                            </div>
                                        </div>
                                        <div className="flex flex-wrap gap-3 text-sm">
                                            <span className="text-slate-800 font-semibold">{app.salary}</span>
                                            <span className="text-slate-600">{app.date}</span>
                                            <span className={`px-3 py-1 rounded-full font-medium ${
                                                app.statusColor === 'blue' 
                                                    ? 'bg-blue-100 text-blue-700' 
                                                    : 'bg-green-100 text-green-700'
                                            }`}>
                                                {app.status}
                                            </span>
                                        </div>
                                        <div className="flex items-center gap-3 pt-2">
                                            <button 
                                                onClick={() => handleAction(app.id, 'like')}
                                                className={`flex-1 flex items-center justify-center gap-2 p-2 rounded-lg transition-all duration-200 ${
                                                    app.action === 'like'
                                                        ? 'bg-emerald-100'
                                                        : 'hover:bg-emerald-50'
                                                }`}
                                            >
                                                <ThumbsUp className={`w-5 h-5 ${
                                                    app.action === 'like'
                                                        ? 'text-emerald-600'
                                                        : 'text-slate-400'
                                                }`} />
                                            </button>
                                            <button 
                                                onClick={() => handleAction(app.id, 'dislike')}
                                                className={`flex-1 flex items-center justify-center gap-2 p-2 rounded-lg transition-all duration-200 ${
                                                    app.action === 'dislike'
                                                        ? 'bg-rose-100'
                                                        : 'hover:bg-rose-50'
                                                }`}
                                            >
                                                <ThumbsDown className={`w-5 h-5 ${
                                                    app.action === 'dislike'
                                                        ? 'text-rose-600'
                                                        : 'text-slate-400'
                                                }`} />
                                            </button>
                                            <button className="flex-1 flex items-center justify-center gap-2 p-2 hover:bg-blue-100 rounded-lg transition-all duration-200">
                                                <Eye className="w-5 h-5 text-slate-400" />
                                            </button>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Cover Letter Templates Component
        const CoverLetterTemplates = ({ setCurrentPage, currentPage, setShowUserProfile }) => {
            const [subNavOpen, setSubNavOpen] = useState(false);
            const [activeTemplates, setActiveTemplates] = useState([1]);
            const [expandedTemplates, setExpandedTemplates] = useState([]);
            const [selectedExample, setSelectedExample] = useState(null);
            const [includeWords, setIncludeWords] = useState([]);
            const [excludeWords, setExcludeWords] = useState(['мэтч']);
            const [includeInput, setIncludeInput] = useState('');
            const [excludeInput, setExcludeInput] = useState('');
            const modalRef = useRef(null);

            const toggleTemplate = (id) => {
                if (activeTemplates.includes(id)) {
                    setActiveTemplates(activeTemplates.filter(t => t !== id));
                } else {
                    setActiveTemplates([...activeTemplates, id]);
                }
            };

            const toggleExpanded = (id) => {
                if (expandedTemplates.includes(id)) {
                    setExpandedTemplates(expandedTemplates.filter(t => t !== id));
                } else {
                    setExpandedTemplates([...expandedTemplates, id]);
                }
            };

            const openExample = (id) => {
                setSelectedExample(id);
            };

            const closeExample = () => {
                setSelectedExample(null);
            };

            const addIncludeWord = () => {
                if (includeInput.trim() && !includeWords.includes(includeInput.trim())) {
                    setIncludeWords([...includeWords, includeInput.trim()]);
                    setIncludeInput('');
                }
            };

            const removeIncludeWord = (word) => {
                setIncludeWords(includeWords.filter(w => w !== word));
            };

            const clearIncludeWords = () => {
                setIncludeWords([]);
            };

            const addExcludeWord = () => {
                if (excludeInput.trim() && !excludeWords.includes(excludeInput.trim())) {
                    setExcludeWords([...excludeWords, excludeInput.trim()]);
                    setExcludeInput('');
                }
            };

            const removeExcludeWord = (word) => {
                setExcludeWords(excludeWords.filter(w => w !== word));
            };

            const clearExcludeWords = () => {
                setExcludeWords([]);
            };

            const templates = [
                {
                    id: 1,
                    title: 'Вариант 1',
                    subtitle: '«Почему компания → Почему я → Что дальше»',
                    blocks: [
                        {
                            title: 'Блок 1: Приветствие',
                            content: ''
                        },
                        {
                            title: 'Блок 2: Почему компания',
                            content: 'Причина — краткое объяснение...'
                        },
                        {
                            title: 'Блок 3: Почему я',
                            content: 'Навык: кейс/цифры.'
                        },
                        {
                            title: 'Блок 4: Что дальше/призыв к действию',
                            content: 'Подтверждение готовности к интервью,\nС уважением, [Имя Фамилия]'
                        }
                    ],
                    example: `Здравствуйте, Анна!

Меня зовут Иван Иванов, я архитектор жилых зданий. 

Почему ваше бюро:

1. Вы строите жильё, в котором люди реально живут, — не концепты «в стол».
2. Ваш подход к дворам и озеленению совпадает с тем, что мне важно в проектах.
3. Слежу за вашими публикациями — видно, что команда думает о городе, а не только о заказчике.

Почему я:
В вакансии вы ищете человека, который умеет вести проект от эскиза до стройки.

— Жилой комплекс на 120 квартир: вёл от концепции до рабочей документации, согласовал с городом за 4 месяца вместо обычных 7.
— Реконструкция школы: нашёл способ добавить спортзал без сноса — сэкономили заказчику 15% бюджета.
— Работаю в ArchiCAD и Revit, привык к BIM-среде и срокам.

Что дальше:
Готов к встрече или тестовому заданию. Могу показать портфолио с чертежами и визуализациями. 

С уважением,
Иван Иванов
+7 9ХХ ХХХ-ХХ-ХХ · ivan@почта.ru`
                },
                {
                    id: 2,
                    title: 'Вариант 2',
                    subtitle: '«Задача → Что я делал → Результат → Польза для компании»',
                    blocks: [
                        {
                            title: 'Блок 1: Приветствие и фокус на задачах',
                            content: ''
                        },
                        {
                            title: 'Блок 2: 2–3 кейса в формате «Задача → Действия → Результат»',
                            content: 'Краткое название задачи,\nКлючевые действия,\nРезультат: эффект с цифрами.'
                        },
                        {
                            title: 'Блок 3: Почему я',
                            content: 'Задачи и релевантный опыт.'
                        },
                        {
                            title: 'Блок 4: Мотивация и следующий шаг',
                            content: 'Аспекты компании и что обсудить.'
                        }
                    ],
                    example: `Здравствуйте, Анна!

Вы ищете архитектора под согласования, рабочую документацию и ведение объектов в BIM. Это то, чем я занимаюсь последние пять лет, поэтому решил откликнуться.

Три проекта, которые показывают, как я работаю:

— Жилой комплекс на 120 квартир. Заказчик торопился с разрешением — параллельно запускал продажи. Я взял на себя всю цепочку согласований: сам ходил в администрацию, синхронизировал смежников, закрывал замечания в тот же день. Получили разрешение за 4 месяца вместо обычных 7.

— Реконструкция школы. Директор хотел спортзал, денег на снос не было. Я предложил пристройку с общей стеной и перенос раздевалок. Зал появился, 15% бюджета остались на оборудование.

— Конкурс на квартальную застройку. Сделал концепцию дворов без машин: парковка под землёй, наверху — деревья и площадки. Вышли в финал, заказчик забрал проект в работу.

Инструменты:

ArchiCAD, Revit, BIM-координация. Привык к срокам и к тому, что чертежи уходят на стройку, а не в архив.

Почему пишу именно вам:

Слежу за вашими проектами. Нравится, что вы проектируете районы, а не просто дома. Хочу делать такие проекты.

Иван Иванов · +7 9ХХ ХХХ-ХХ-ХХ · ivan@почта.ru`
                },
                {
                    id: 3,
                    title: 'Вариант 3',
                    subtitle: '«История карьеры → Выводы → Польза для компании»',
                    blocks: [
                        {
                            title: 'Блок 1: Приветствие и зацепка истории карьеры',
                            content: 'Имя, роль, прогресс карьеры.'
                        },
                        {
                            title: 'Блок 2: Короткая история в 2–3 эпизодах (абзацами)',
                            content: 'Старт, поворотные моменты, текущий фокус.'
                        },
                        {
                            title: 'Блок 3: Выводы — 3 принципа / урока',
                            content: 'Принципы и их применение.'
                        },
                        {
                            title: 'Блок 4: Как это подходит роли в компании',
                            content: 'Задачи из описания и релевантный опыт/принципы.'
                        },
                        {
                            title: 'Блок 5: Завершение и призыв к действию',
                            content: 'Обсуждение опыта и подходов.'
                        }
                    ],
                    example: `Здравствуйте, Анна!

Я Иван Иванов, архитектор жилых зданий. Последние пять лет я веду объекты от эскиза до стройплощадки — и один недавний проект хорошо показывает, как я работаю.

История:

Ко мне пришёл застройщик с проблемой: жилой комплекс на 120 квартир, а продажи нужно открывать через четыре месяца. Обычно согласование занимает семь. Я взял на себя всю цепочку — сам ходил в администрацию, синхронизировал конструкторов и инженеров, закрывал замечания в тот же день. Уложились в срок, продажи стартовали вовремя.

Похожая ситуация была на реконструкции школы. Директор хотел спортзал, но бюджет не позволял сносить старый корпус. Я нашёл решение: пристройка с общей стеной и перенос раздевалок. Зал появился, а 15% бюджета остались на оборудование.

Три принципа, которые я вынес:

— Согласования — это не ожидание, а управление процессом.
— Ограниченный бюджет — повод искать нестандартное решение, а не отказываться от задачи.
— Чертежи должны уходить на стройку, а не в архив.

Почему пишу именно вам:

Слежу за вашими проектами. Вы проектируете районы, а не просто заполняете участки домами. Мне близок такой подход — хочу делать проекты, которые меняют город.

Иван Иванов · +7 9ХХ ХХХ-ХХ-ХХ · ivan@почта.ru`
                }
            ];

            // Прокручиваем страницу к началу когда модальное окно открыто
            useEffect(() => {
                if (selectedExample) {
                    // Прокручиваем страницу к началу сразу
                    window.scrollTo({ top: 0, behavior: 'instant' });
                    document.documentElement.scrollTop = 0;
                    document.body.scrollTop = 0;
                    
                    // Прокручиваем модальное окно к началу после небольшой задержки
                    setTimeout(() => {
                        if (modalRef.current) {
                            modalRef.current.scrollTop = 0;
                            // Убеждаемся, что модальное окно видно
                            const modalContent = modalRef.current.querySelector('.bg-white');
                            if (modalContent) {
                                modalContent.scrollIntoView({ behavior: 'instant', block: 'start' });
                            }
                        }
                    }, 50);
                }
            }, [selectedExample]);

            return (
                <div className="min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50/40 to-pink-50">
                    {/* Navigation */}
                    <nav className="bg-white/80 backdrop-blur-lg border-b border-slate-200/60">
                        <div className="max-w-7xl mx-auto px-8 py-4">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center gap-3">
                                    <svg width="48" height="48" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" className="hover:scale-110 transition-transform duration-300">
                                        <defs>
                                            <linearGradient id="birdGrad3" x1="0%" y1="0%" x2="100%" y2="100%">
                                                <stop offset="0%" style={{stopColor: '#06b6d4', stopOpacity: 1}} />
                                                <stop offset="50%" style={{stopColor: '#3b82f6', stopOpacity: 1}} />
                                                <stop offset="100%" style={{stopColor: '#8b5cf6', stopOpacity: 1}} />
                                            </linearGradient>
                                        </defs>
                                        <path d="M 30 50 Q 25 45, 20 47 Q 15 49, 13 53 Q 11 57, 13 61 Q 15 65, 20 67 L 25 69 L 27 71 Q 29 72, 31 71 L 33 69 Q 35 67, 35 65 L 35 55 Z" fill="url(#birdGrad3)"/>
                                        <circle cx="17" cy="50" r="6" fill="url(#birdGrad3)"/>
                                        <path d="M 11 50 L 3 48 Q 1 48, 1 50 Q 1 52, 3 52 L 11 50 Z" fill="#22d3ee"/>
                                        <path d="M 27 57 Q 33 53, 40 55 Q 45 57, 47 61 Q 49 65, 45 67 Q 41 69, 35 67 L 27 63 Z" fill="url(#birdGrad3)" opacity="0.9"/>
                                        <path d="M 29 61 Q 35 59, 41 63 Q 45 67, 43 71 Q 41 75, 35 73 L 29 69 Z" fill="url(#birdGrad3)" opacity="0.7"/>
                                        <path d="M 31 71 Q 35 75, 37 80 Q 39 85, 35 87 Q 31 85, 29 80 Z" fill="url(#birdGrad3)" opacity="0.8"/>
                                        <path d="M 33 71 Q 39 73, 43 77 Q 47 81, 45 85 Q 41 83, 37 79 Z" fill="url(#birdGrad3)" opacity="0.6"/>
                                        <circle cx="15" cy="49" r="1.5" fill="white"/>
                                    </svg>
                                    <div>
                                        <h1 className="text-3xl font-bold" style={{
                                            background: 'linear-gradient(135deg, #6366f1 0%, #8b5cf6 25%, #a855f7 50%, #c026d3 75%, #d946ef 100%)',
                                            WebkitBackgroundClip: 'text',
                                            WebkitTextFillColor: 'transparent',
                                            backgroundClip: 'text'
                                        }}>
                                            Colibri
                                        </h1>
                                        <p className="text-sm text-slate-500 font-medium">AI-powered job search</p>
                                    </div>
                                </div>
                                
                                <div className="flex items-center gap-4">
                                    <button 
                                        onClick={() => setCurrentPage('filters')}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${
                                            currentPage === 'filters' 
                                                ? 'text-blue-600 bg-blue-50 font-medium' 
                                                : 'hover:bg-slate-100'
                                        }`}>
                                        <Settings className="w-4 h-4" />
                                        <span className="hidden lg:inline">Настройки откликов</span>
                                    </button>
                                    <button 
                                        onClick={() => setCurrentPage('calendar')}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${
                                            currentPage === 'calendar' 
                                                ? 'text-blue-600 bg-blue-50 font-medium' 
                                                : 'hover:bg-slate-100'
                                        }`}>
                                        <Calendar className="w-4 h-4" />
                                        <span className="hidden lg:inline">Календарь</span>
                                    </button>
                                    <button 
                                        onClick={() => setCurrentPage('applications')}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${
                                            currentPage === 'applications' 
                                                ? 'text-blue-600 bg-blue-50 font-medium' 
                                                : 'hover:bg-slate-100'
                                        }`}>
                                        <FileText className="w-4 h-4" />
                                        <span className="hidden lg:inline">Отклики</span>
                                    </button>
                                    <button className="p-2 hover:bg-slate-100 rounded-lg transition-all duration-200">
                                        <Bell className="w-5 h-5" />
                                    </button>
                                    <div 
                                        onClick={() => setShowUserProfile && setShowUserProfile(true)}
                                        className="w-10 h-10 rounded-full overflow-hidden border-2 border-cyan-400 hover:border-cyan-500 transition-colors cursor-pointer"
                                    >
                                        <img src="https://i.pravatar.cc/150?img=12" alt="User" className="w-full h-full object-cover" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </nav>

                    {/* Sub Navigation */}
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6">
                        {/* Mobile Dropdown */}
                        <div className="sm:hidden">
                            <button
                                onClick={() => setSubNavOpen(!subNavOpen)}
                                className="w-full flex items-center justify-between px-4 py-3 bg-white shadow-lg shadow-blue-500/10 rounded-lg font-medium text-blue-600 border border-blue-200"
                            >
                                <div className="flex items-center gap-2">
                                    <Settings className="w-4 h-4" />
                                    <span>Конструктор сопроводительного</span>
                                </div>
                                <svg 
                                    className={`w-5 h-5 transition-transform duration-200 ${subNavOpen ? 'rotate-180' : ''}`}
                                    fill="none" 
                                    viewBox="0 0 24 24" 
                                    stroke="currentColor"
                                >
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            {subNavOpen && (
                                <div className="mt-2 bg-white rounded-lg shadow-lg border border-slate-200 overflow-hidden">
                                    <button 
                                        onClick={() => {
                                            setCurrentPage('resume');
                                            setSubNavOpen(false);
                                        }}
                                        className="w-full flex items-center gap-2 px-4 py-3 hover:bg-slate-50 transition-colors text-left"
                                    >
                                        <FileText className="w-4 h-4" />
                                        <span>Выбор резюме</span>
                                    </button>
                                    <button 
                                        className="w-full flex items-center gap-2 px-4 py-3 bg-blue-50 text-blue-600 font-medium"
                                    >
                                        <Settings className="w-4 h-4" />
                                        <span>Конструктор сопроводительного</span>
                                    </button>
                                    <button 
                                        onClick={() => {
                                            setCurrentPage('filters');
                                            setSubNavOpen(false);
                                        }}
                                        className="w-full flex items-center gap-2 px-4 py-3 hover:bg-slate-50 transition-colors text-left"
                                    >
                                        <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M3 6h18M7 12h10M10 18h4" strokeWidth="2" strokeLinecap="round"/>
                                        </svg>
                                        <span>Настройки фильтров</span>
                                    </button>
                                </div>
                            )}
                        </div>
                        {/* Desktop Navigation */}
                        <div className="hidden sm:flex items-center gap-2 sm:gap-4 lg:gap-6">
                            <button 
                                onClick={() => setCurrentPage('resume')}
                                className="flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 text-xs sm:text-sm lg:text-base hover:bg-white/60 rounded-lg transition-all duration-200 whitespace-nowrap flex-shrink-0">
                                <FileText className="w-3.5 h-3.5 sm:w-4 sm:h-4" />
                                <span>Выбор резюме</span>
                            </button>
                            <button 
                                className="flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 text-xs sm:text-sm lg:text-base bg-white shadow-lg shadow-blue-500/10 rounded-lg font-medium text-blue-600 border border-blue-200 flex-shrink-0">
                                <Settings className="w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0" />
                                <span className="whitespace-nowrap">Конструктор сопроводительного</span>
                            </button>
                            <button 
                                onClick={() => setCurrentPage('filters')}
                                className="flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 text-xs sm:text-sm lg:text-base hover:bg-white/60 rounded-lg transition-all duration-200 whitespace-nowrap flex-shrink-0">
                                <svg className="w-3.5 h-3.5 sm:w-4 sm:h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M3 6h18M7 12h10M10 18h4" strokeWidth="2" strokeLinecap="round"/>
                                </svg>
                                <span>Настройки фильтров</span>
                            </button>
                        </div>
                    </div>

                    {/* Main Content - НА ВСЕЙ ШИРИНЕ */}
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8">
                        <div className="bg-white/70 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-2xl shadow-purple-500/10 p-4 sm:p-6 lg:p-10 border border-white/60">
                            <div className="max-w-6xl mx-auto">
                                <h2 className="text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-bold text-slate-800 mb-3 sm:mb-4 break-words">
                                    Конструктор сопроводительного: выбор шаблонов
                                </h2>
                                <p className="text-slate-600 text-sm sm:text-base lg:text-lg mb-8 sm:mb-10 lg:mb-12 break-words">
                                    Здесь вы можете выбрать один или несколько шаблонов сопроводительных писем, которые
                                    мы будем использовать для откликов, и ознакомиться с их структурой
                                </p>

                                {/* Templates List - Vertical */}
                                <div className="space-y-4 sm:space-y-6">
                                    {templates.map((template, idx) => (
                                        <div key={template.id} className="animate-slide-up" style={{ animationDelay: `${idx * 0.15}s` }}>
                                            <div
                                                className={`relative bg-white/80 backdrop-blur-xl rounded-xl sm:rounded-2xl p-4 sm:p-6 lg:p-8 border-2 transition-all duration-300 hover:shadow-2xl ${
                                                    activeTemplates.includes(template.id)
                                                        ? 'border-cyan-400 shadow-xl shadow-cyan-500/20'
                                                        : 'border-slate-200 hover:border-cyan-300'
                                                }`}
                                            >
                                                {/* Toggle Switch */}
                                                <div className="absolute top-4 right-4 sm:top-6 sm:right-6">
                                                    <button
                                                        onClick={() => toggleTemplate(template.id)}
                                                        className={`relative w-12 h-6 sm:w-14 sm:h-7 rounded-full transition-all duration-300 ${
                                                            activeTemplates.includes(template.id)
                                                                ? 'bg-gradient-to-r from-cyan-400 to-blue-500'
                                                                : 'bg-slate-300'
                                                        }`}
                                                    >
                                                        <div
                                                            className={`absolute top-0.5 w-5 h-5 sm:w-6 sm:h-6 bg-white rounded-full shadow-lg transition-transform duration-300 ${
                                                                activeTemplates.includes(template.id) ? 'translate-x-6 sm:translate-x-7' : 'translate-x-0.5'
                                                            }`}
                                                        />
                                                    </button>
                                                </div>

                                                {/* Template Header */}
                                                <div className="mb-4 sm:mb-6 pr-14 sm:pr-16">
                                                    <h3 className="text-lg sm:text-xl font-bold text-slate-700 mb-1 sm:mb-2 break-words">{template.title}</h3>
                                                    <p className="text-cyan-600 font-semibold text-xs sm:text-sm leading-relaxed break-words">{template.subtitle}</p>
                                                </div>

                                                {/* Expand/Collapse Button */}
                                                <button
                                                    onClick={() => toggleExpanded(template.id)}
                                                    className="w-full mb-3 sm:mb-4 px-3 sm:px-4 py-2 bg-slate-100 hover:bg-slate-200 rounded-lg transition-all duration-200 flex items-center justify-between"
                                                >
                                                    <span className="text-xs sm:text-sm font-medium text-slate-700 break-words">
                                                        {expandedTemplates.includes(template.id) ? 'Свернуть блоки' : 'Показать блоки'}
                                                    </span>
                                                    <svg 
                                                        className={`w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 transition-transform duration-200 ${expandedTemplates.includes(template.id) ? 'rotate-180' : ''}`} 
                                                        fill="none" 
                                                        viewBox="0 0 24 24" 
                                                        stroke="currentColor"
                                                    >
                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                                    </svg>
                                                </button>

                                                {/* Template Blocks - Collapsible */}
                                                {expandedTemplates.includes(template.id) && (
                                                    <div className="space-y-3 sm:space-y-5 mb-4 sm:mb-6">
                                                        {template.blocks.map((block, index) => (
                                                            <div key={index} className="border-l-4 border-cyan-400 pl-3 sm:pl-4">
                                                                <h4 className="font-bold text-slate-800 text-xs sm:text-sm break-words">{block.title}</h4>
                                                            </div>
                                                        ))}
                                                    </div>
                                                )}
                                            </div>

                                            {/* Example Button */}
                                            <div className="mt-3 sm:mt-4">
                                                <button
                                                    onClick={() => openExample(template.id)}
                                                    className="w-full px-4 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-lg sm:rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all duration-200 shadow-lg shadow-cyan-500/30 hover:shadow-xl hover:shadow-cyan-500/40 flex items-center justify-center gap-2 text-sm sm:text-base"
                                                >
                                                    <svg className="w-4 h-4 sm:w-5 sm:h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                                    </svg>
                                                    <span className="whitespace-nowrap">Показать пример</span>
                                                </button>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                {/* Modal for Example */}
                                {selectedExample && (
                                    <div 
                                        ref={modalRef}
                                        className="fixed inset-0 z-[9999] bg-black/50 backdrop-blur-sm"
                                        onClick={closeExample}
                                        style={{ 
                                            position: 'fixed', 
                                            top: 0, 
                                            left: 0, 
                                            right: 0, 
                                            bottom: 0,
                                            zIndex: 9999,
                                            padding: '0.5rem',
                                            display: 'flex',
                                            alignItems: 'flex-start',
                                            justifyContent: 'center',
                                            overflowY: 'auto'
                                        }}
                                    >
                                        <div 
                                            className="bg-white rounded-3xl shadow-2xl w-full overflow-hidden flex flex-col"
                                            onClick={(e) => e.stopPropagation()}
                                            style={{ 
                                                margin: '0.5rem auto',
                                                maxHeight: 'calc(100vh - 1rem)',
                                                height: 'calc(100vh - 1rem)',
                                                width: 'calc(100% - 1rem)',
                                                maxWidth: '90rem',
                                                display: 'flex',
                                                flexDirection: 'column'
                                            }}
                                        >
                                            {/* Modal Header */}
                                            <div className="flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-cyan-50 to-blue-50">
                                                <div>
                                                    <h3 className="text-2xl font-bold text-slate-800">
                                                        {templates.find(t => t.id === selectedExample)?.title}
                                                    </h3>
                                                    <p className="text-cyan-600 font-medium mt-1">
                                                        {templates.find(t => t.id === selectedExample)?.subtitle}
                                                    </p>
                                                </div>
                                                <button
                                                    onClick={closeExample}
                                                    className="p-2 hover:bg-white/60 rounded-lg transition-all duration-200"
                                                >
                                                    <X className="w-6 h-6 text-slate-600" />
                                                </button>
                                            </div>

                                            {/* Modal Content */}
                                            <div className="flex-1 overflow-y-auto p-8">
                                                <div className="bg-slate-50 rounded-2xl p-8 border border-slate-200">
                                                    <div className="text-sm text-slate-800 whitespace-pre-wrap leading-relaxed space-y-4" style={{fontFamily: 'system-ui, -apple-system, sans-serif'}}>
                                                        {templates.find(t => t.id === selectedExample)?.example.split('\n\n').map((paragraph, idx) => {
                                                            // Разбиваем параграф на строки и обрабатываем каждую
                                                            const lines = paragraph.split('\n');
                                                            return (
                                                                <p key={idx} className="text-slate-700 mt-4">
                                                                    {lines.map((line, lineIdx) => {
                                                                        const trimmedLine = line.trim();
                                                                        // Если строка заканчивается двоеточием и является названием секции
                                                                        // Названия секций: короткие, заканчиваются двоеточием, начинаются с заглавной буквы
                                                                        const isSectionTitle = trimmedLine.endsWith(':') && 
                                                                            trimmedLine.length < 100 && 
                                                                            !trimmedLine.match(/^\d+\./) && // Не нумерованный список
                                                                            !trimmedLine.match(/\.\s*:/) && // Не содержит точку перед двоеточием (часть предложения)
                                                                            trimmedLine.match(/^[А-ЯЁA-Z]/); // Начинается с заглавной буквы
                                                                        
                                                                        if (isSectionTitle) {
                                                                            return (
                                                                                <span key={lineIdx}>
                                                                                    <span className="font-bold text-slate-900">{line}</span>
                                                                                    {lineIdx < lines.length - 1 && '\n'}
                                                                                </span>
                                                                            );
                                                                        }
                                                                        // Обычный текст
                                                                        return (
                                                                            <span key={lineIdx}>
                                                                                {line}
                                                                                {lineIdx < lines.length - 1 && '\n'}
                                                                            </span>
                                                                        );
                                                                    })}
                                                                </p>
                                                            );
                                                        })}
                                                    </div>
                                                </div>
                                            </div>

                                            {/* Modal Footer */}
                                            <div className="p-6 border-t border-slate-200 bg-slate-50 flex justify-end">
                                                <button
                                                    onClick={closeExample}
                                                    className="px-6 py-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-lg font-medium hover:from-cyan-600 hover:to-blue-600 transition-all duration-200"
                                                >
                                                    Закрыть
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {/* Template Editing Section */}
                                <div className="mt-8 sm:mt-12 lg:mt-16 pt-6 sm:pt-8 lg:pt-12 border-t-2 border-slate-200">
                                    <h2 className="text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-bold text-slate-800 mb-3 sm:mb-4 break-words">
                                        Редактирование шаблона
                                    </h2>
                                    <p className="text-slate-600 text-sm sm:text-base lg:text-lg mb-6 sm:mb-8 break-words">
                                        Введите слова и фразы, которые вы хотели бы добавить или исключить из ваших сопроводительных писем. Добавляйте короткие фразы (до 3–4 слов). Не используйте длинные предложения.
                                    </p>

                                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8">
                                        {/* Include in letter */}
                                        <div className="bg-slate-50/80 backdrop-blur-xl rounded-xl sm:rounded-2xl p-4 sm:p-6 border-2 border-slate-200">
                                            <h3 className="text-lg sm:text-xl font-bold text-slate-800 mb-3 sm:mb-4 break-words">Включить в письмо</h3>
                                            <div className="mb-3 sm:mb-4">
                                                <input
                                                    type="text"
                                                    value={includeInput}
                                                    onChange={(e) => setIncludeInput(e.target.value)}
                                                    onKeyDown={(e) => {
                                                        if (e.key === 'Enter') {
                                                            e.preventDefault();
                                                            addIncludeWord();
                                                        }
                                                    }}
                                                    placeholder="Например, ссылка на портфолио: ссылка"
                                                    className="w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-slate-200 rounded-lg sm:rounded-xl focus:border-cyan-400 focus:ring-4 focus:ring-cyan-400/20 outline-none transition-all duration-200"
                                                />
                                            </div>
                                            <div className="flex flex-wrap gap-2 mb-3 sm:mb-4 min-h-[40px]">
                                                {includeWords.map((word) => (
                                                    <span key={word} className="inline-flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-3 py-1 sm:py-1.5 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-full text-xs sm:text-sm font-medium break-words">
                                                        <span className="break-all">{word}</span>
                                                        <button 
                                                            onClick={() => removeIncludeWord(word)}
                                                            className="hover:bg-white/20 rounded-full p-0.5 flex-shrink-0"
                                                        >
                                                            <X className="w-3 h-3" />
                                                        </button>
                                                    </span>
                                                ))}
                                            </div>
                                            <div className="flex flex-col sm:flex-row gap-2 sm:gap-3">
                                                <button
                                                    onClick={addIncludeWord}
                                                    disabled={!includeInput.trim()}
                                                    className={`px-4 sm:px-6 py-2 rounded-lg font-medium transition-all duration-200 text-sm sm:text-base ${
                                                        includeInput.trim()
                                                            ? 'bg-gradient-to-r from-cyan-400 to-blue-500 text-white shadow-lg shadow-cyan-500/30 hover:shadow-xl hover:shadow-cyan-500/40'
                                                            : 'bg-slate-300 text-slate-500 cursor-not-allowed'
                                                    }`}
                                                >
                                                    Применить
                                                </button>
                                                <button
                                                    onClick={clearIncludeWords}
                                                    disabled={includeWords.length === 0}
                                                    className={`px-4 sm:px-6 py-2 rounded-lg font-medium transition-all duration-200 text-sm sm:text-base ${
                                                        includeWords.length > 0
                                                            ? 'bg-slate-200 text-slate-700 hover:bg-slate-300'
                                                            : 'bg-slate-300 text-slate-500 cursor-not-allowed'
                                                    }`}
                                                >
                                                    Очистить список
                                                </button>
                                            </div>
                                        </div>

                                        {/* Do not use in letter */}
                                        <div className="bg-slate-50/80 backdrop-blur-xl rounded-xl sm:rounded-2xl p-4 sm:p-6 border-2 border-slate-200">
                                            <h3 className="text-lg sm:text-xl font-bold text-slate-800 mb-3 sm:mb-4 break-words">Не использовать в письме</h3>
                                            <div className="mb-3 sm:mb-4">
                                                <input
                                                    type="text"
                                                    value={excludeInput}
                                                    onChange={(e) => setExcludeInput(e.target.value)}
                                                    onKeyDown={(e) => {
                                                        if (e.key === 'Enter') {
                                                            e.preventDefault();
                                                            addExcludeWord();
                                                        }
                                                    }}
                                                    placeholder="Например, идеальный кандидат"
                                                    className="w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-slate-200 rounded-lg sm:rounded-xl focus:border-cyan-400 focus:ring-4 focus:ring-cyan-400/20 outline-none transition-all duration-200"
                                                />
                                            </div>
                                            <div className="flex flex-wrap gap-2 mb-3 sm:mb-4 min-h-[40px]">
                                                {excludeWords.map((word) => (
                                                    <span key={word} className="inline-flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-3 py-1 sm:py-1.5 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-full text-xs sm:text-sm font-medium break-words">
                                                        <span className="break-all">{word}</span>
                                                        <button 
                                                            onClick={() => removeExcludeWord(word)}
                                                            className="hover:bg-white/20 rounded-full p-0.5 flex-shrink-0"
                                                        >
                                                            <X className="w-3 h-3" />
                                                        </button>
                                                    </span>
                                                ))}
                                            </div>
                                            <div className="flex flex-col sm:flex-row gap-2 sm:gap-3">
                                                <button
                                                    onClick={addExcludeWord}
                                                    disabled={!excludeInput.trim()}
                                                    className={`px-4 sm:px-6 py-2 rounded-lg font-medium transition-all duration-200 text-sm sm:text-base ${
                                                        excludeInput.trim()
                                                            ? 'bg-gradient-to-r from-cyan-400 to-blue-500 text-white shadow-lg shadow-cyan-500/30 hover:shadow-xl hover:shadow-cyan-500/40'
                                                            : 'bg-slate-300 text-slate-500 cursor-not-allowed'
                                                    }`}
                                                >
                                                    Применить
                                                </button>
                                                <button
                                                    onClick={clearExcludeWords}
                                                    disabled={excludeWords.length === 0}
                                                    className={`px-4 sm:px-6 py-2 rounded-lg font-medium transition-all duration-200 text-sm sm:text-base ${
                                                        excludeWords.length > 0
                                                            ? 'bg-slate-200 text-slate-700 hover:bg-slate-300'
                                                            : 'bg-slate-300 text-slate-500 cursor-not-allowed'
                                                    }`}
                                                >
                                                    Очистить список
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Calendar Component - БЕЗ ИЗМЕНЕНИЙ
        const CalendarView = ({ setCurrentPage, currentPage, setShowUserProfile }) => {
            const [subNavOpen, setSubNavOpen] = useState(false);
            const [interviews] = useState([
                { day: 10, dayName: 'Пн', time: '11:00', status: 'confirmed' },
                { day: 11, dayName: 'Вт', time: '15:30', status: 'pending' },
                { day: 12, dayName: 'Ср', time: '18:00', status: 'confirmed' },
                { day: 14, dayName: 'Пт', time: '12:00', status: 'pending' },
                { day: 17, dayName: 'Пн', time: '10:00', status: 'confirmed' },
                { day: 19, dayName: 'Ср', time: '16:00', status: 'pending' },
                { day: 21, dayName: 'Пт', time: '14:30', status: 'confirmed' },
            ]);

            const weekDays = ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'];
            const calendarDays = Array.from({ length: 14 }, (_, i) => 10 + i);

            const getInterviewForDay = (day) => {
                return interviews.find(int => int.day === day);
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/20 to-indigo-50/30">
                    {/* Navigation */}
                    <nav className="bg-white/80 backdrop-blur-lg border-b border-slate-200/60 sticky top-0 z-50">
                        <div className="max-w-7xl mx-auto px-8 py-4">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center gap-3">
                                    <svg width="48" height="48" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" className="hover:scale-110 transition-transform duration-300">
                                        <defs>
                                            <linearGradient id="birdGrad4" x1="0%" y1="0%" x2="100%" y2="100%">
                                                <stop offset="0%" style={{stopColor: '#06b6d4', stopOpacity: 1}} />
                                                <stop offset="50%" style={{stopColor: '#3b82f6', stopOpacity: 1}} />
                                                <stop offset="100%" style={{stopColor: '#8b5cf6', stopOpacity: 1}} />
                                            </linearGradient>
                                        </defs>
                                        <path d="M 30 50 Q 25 45, 20 47 Q 15 49, 13 53 Q 11 57, 13 61 Q 15 65, 20 67 L 25 69 L 27 71 Q 29 72, 31 71 L 33 69 Q 35 67, 35 65 L 35 55 Z" fill="url(#birdGrad4)"/>
                                        <circle cx="17" cy="50" r="6" fill="url(#birdGrad4)"/>
                                        <path d="M 11 50 L 3 48 Q 1 48, 1 50 Q 1 52, 3 52 L 11 50 Z" fill="#22d3ee"/>
                                        <path d="M 27 57 Q 33 53, 40 55 Q 45 57, 47 61 Q 49 65, 45 67 Q 41 69, 35 67 L 27 63 Z" fill="url(#birdGrad4)" opacity="0.9"/>
                                        <path d="M 29 61 Q 35 59, 41 63 Q 45 67, 43 71 Q 41 75, 35 73 L 29 69 Z" fill="url(#birdGrad4)" opacity="0.7"/>
                                        <circle cx="15" cy="49" r="1.5" fill="white"/>
                                    </svg>
                                    <div>
                                        <h1 className="text-3xl font-bold" style={{
                                            background: 'linear-gradient(135deg, #6366f1 0%, #8b5cf6 25%, #a855f7 50%, #c026d3 75%, #d946ef 100%)',
                                            WebkitBackgroundClip: 'text',
                                            WebkitTextFillColor: 'transparent',
                                            backgroundClip: 'text'
                                        }}>
                                            Colibri
                                        </h1>
                                        <p className="text-sm text-slate-500 font-medium">AI-powered job search</p>
                                    </div>
                                </div>
                                
                                <div className="flex items-center gap-6">
                                    <button 
                                        onClick={() => setCurrentPage('filters')}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${
                                            currentPage === 'filters' 
                                                ? 'text-blue-600 bg-blue-50 font-medium' 
                                                : 'hover:bg-slate-100'
                                        }`}>
                                        <Settings className="w-4 h-4" />
                                        <span className="hidden lg:inline">Настройки откликов</span>
                                    </button>
                                    <button 
                                        onClick={() => setCurrentPage('calendar')}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${
                                            currentPage === 'calendar' 
                                                ? 'text-blue-600 bg-blue-50 font-medium' 
                                                : 'hover:bg-slate-100'
                                        }`}>
                                        <Calendar className="w-4 h-4" />
                                        <span className="hidden lg:inline">Календарь</span>
                                    </button>
                                    <button 
                                        onClick={() => setCurrentPage('applications')}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${
                                            currentPage === 'applications' 
                                                ? 'text-blue-600 bg-blue-50 font-medium' 
                                                : 'hover:bg-slate-100'
                                        }`}>
                                        <FileText className="w-4 h-4" />
                                        <span className="hidden lg:inline">Отклики</span>
                                    </button>
                                    <button className="p-2 hover:bg-slate-100 rounded-lg transition-all duration-200">
                                        <Bell className="w-5 h-5" />
                                    </button>
                                    <div 
                                        onClick={() => setShowUserProfile && setShowUserProfile(true)}
                                        className="w-10 h-10 rounded-full overflow-hidden border-2 border-cyan-400 hover:border-cyan-500 transition-colors cursor-pointer"
                                    >
                                        <img src="https://i.pravatar.cc/150?img=12" alt="User" className="w-full h-full object-cover" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </nav>

                    {/* Main Content */}
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-12">
                        <div className="bg-white/70 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-2xl shadow-blue-500/10 p-4 sm:p-6 lg:p-10 border border-white/60">
                            {/* Header */}
                            <div className="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 sm:mb-10 gap-4">
                                <h2 className="text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-bold text-slate-800">Календарь интервью (2 недели)</h2>
                                <div className="flex items-center gap-3 sm:gap-6 flex-wrap">
                                    <div className="flex items-center gap-2">
                                        <div className="w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-gradient-to-r from-emerald-400 to-green-500"></div>
                                        <span className="text-xs sm:text-sm font-medium text-slate-600">Подтвержден</span>
                                    </div>
                                    <div className="flex items-center gap-2">
                                        <div className="w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-gradient-to-r from-amber-400 to-orange-500"></div>
                                        <span className="text-xs sm:text-sm font-medium text-slate-600">Ожидает</span>
                                    </div>
                                </div>
                            </div>

                            {/* Calendar Grid */}
                            <div className="grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-7 gap-2 sm:gap-3 lg:gap-4 mb-6 sm:mb-8">
                                {calendarDays.map((day, index) => {
                                    const interview = getInterviewForDay(day);
                                    const dayName = weekDays[index % 7];
                                    
                                    return (
                                        <div 
                                            key={day}
                                            className={`bg-gradient-to-br from-slate-50 to-white rounded-lg sm:rounded-xl lg:rounded-2xl p-3 sm:p-4 lg:p-6 border-2 transition-all duration-300 hover:shadow-lg ${
                                                interview ? 'border-cyan-200 hover:border-cyan-300' : 'border-slate-100'
                                            }`}
                                        >
                                            <div className="text-center mb-2 sm:mb-4">
                                                <div className="text-xs sm:text-sm font-medium text-slate-500 mb-0.5 sm:mb-1">{dayName}</div>
                                                <div className="text-xl sm:text-2xl lg:text-3xl font-bold text-slate-800">{day}</div>
                                            </div>
                                            
                                            {interview && (
                                                <div className={`px-2 sm:px-3 lg:px-4 py-1.5 sm:py-2 rounded-full text-center font-bold text-white shadow-lg transform hover:scale-105 transition-all duration-300 text-xs sm:text-sm ${
                                                    interview.status === 'confirmed'
                                                        ? 'bg-gradient-to-r from-emerald-400 to-green-500'
                                                        : 'bg-gradient-to-r from-amber-400 to-orange-500'
                                                }`}>
                                                    {interview.time}
                                                </div>
                                            )}
                                        </div>
                                    );
                                })}
                            </div>

                            {/* Action Buttons */}
                            <div className="flex flex-col sm:flex-row gap-3 sm:gap-4">
                                <button className="flex-1 px-4 sm:px-6 lg:px-8 py-3 sm:py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg sm:rounded-xl font-bold text-sm sm:text-base lg:text-lg shadow-lg hover:shadow-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-[1.02]">
                                    Синк с Google/Outlook
                                </button>
                                <button className="flex-1 px-4 sm:px-6 lg:px-8 py-3 sm:py-4 bg-slate-100 text-slate-700 rounded-lg sm:rounded-xl font-bold text-sm sm:text-base lg:text-lg hover:bg-slate-200 transition-all duration-300 transform hover:scale-[1.02]">
                                    Предложить другое время
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Resume Selection Component
        const ResumeSelection = ({ setCurrentPage, currentPage, setShowUserProfile }) => {
            const [subNavOpen, setSubNavOpen] = useState(false);
            const [resumes, setResumes] = useState([
                {
                    id: 1,
                    title: 'Архитектор жилых зданий',
                    fileName: 'resume_architect_2024.pdf',
                    date: '15.11.2024',
                    isActive: true,
                    description: 'Основное резюме для архитектурных позиций'
                },
                {
                    id: 2,
                    title: 'Senior Architect',
                    fileName: 'resume_senior_architect.pdf',
                    date: '10.10.2024',
                    isActive: false,
                    description: 'Резюме для позиций уровня Senior'
                },
                {
                    id: 3,
                    title: 'Lead Architect',
                    fileName: 'resume_lead_architect.pdf',
                    date: '05.09.2024',
                    isActive: false,
                    description: 'Резюме для руководящих позиций'
                }
            ]);

            const toggleResume = (id) => {
                setResumes(resumes.map(resume => ({
                    ...resume,
                    isActive: resume.id === id ? !resume.isActive : false
                })));
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-50 via-cyan-50/30 to-blue-50">
                    {/* Navigation */}
                    <nav className="bg-white/80 backdrop-blur-lg border-b border-slate-200/60 sticky top-0 z-50">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center gap-2 sm:gap-3">
                                    <svg width="40" height="40" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" className="sm:w-12 sm:h-12 hover:scale-110 transition-transform duration-300">
                                        <defs>
                                            <linearGradient id="birdGradResume" x1="0%" y1="0%" x2="100%" y2="100%">
                                                <stop offset="0%" style={{stopColor: '#06b6d4', stopOpacity: 1}} />
                                                <stop offset="50%" style={{stopColor: '#3b82f6', stopOpacity: 1}} />
                                                <stop offset="100%" style={{stopColor: '#8b5cf6', stopOpacity: 1}} />
                                            </linearGradient>
                                        </defs>
                                        <path d="M 30 50 Q 25 45, 20 47 Q 15 49, 13 53 Q 11 57, 13 61 Q 15 65, 20 67 L 25 69 L 27 71 Q 29 72, 31 71 L 33 69 Q 35 67, 35 65 L 35 55 Z" fill="url(#birdGradResume)"/>
                                        <circle cx="17" cy="50" r="6" fill="url(#birdGradResume)"/>
                                        <path d="M 11 50 L 3 48 Q 1 48, 1 50 Q 1 52, 3 52 L 11 50 Z" fill="#22d3ee"/>
                                        <path d="M 27 57 Q 33 53, 40 55 Q 45 57, 47 61 Q 49 65, 45 67 Q 41 69, 35 67 L 27 63 Z" fill="url(#birdGradResume)" opacity="0.9"/>
                                        <path d="M 29 61 Q 35 59, 41 63 Q 45 67, 43 71 Q 41 75, 35 73 L 29 69 Z" fill="url(#birdGradResume)" opacity="0.7"/>
                                        <path d="M 31 71 Q 35 75, 37 80 Q 39 85, 35 87 Q 31 85, 29 80 Z" fill="url(#birdGradResume)" opacity="0.8"/>
                                        <path d="M 33 71 Q 39 73, 43 77 Q 47 81, 45 85 Q 41 83, 37 79 Z" fill="url(#birdGradResume)" opacity="0.6"/>
                                        <circle cx="15" cy="49" r="1.5" fill="white"/>
                                    </svg>
                                    <div>
                                        <h1 className="text-xl sm:text-2xl lg:text-3xl font-bold" style={{
                                            background: 'linear-gradient(135deg, #6366f1 0%, #8b5cf6 25%, #a855f7 50%, #c026d3 75%, #d946ef 100%)',
                                            WebkitBackgroundClip: 'text',
                                            WebkitTextFillColor: 'transparent',
                                            backgroundClip: 'text'
                                        }}>
                                            Colibri
                                        </h1>
                                        <p className="text-xs sm:text-sm text-slate-500 font-medium hidden sm:block">AI-powered job search</p>
                                    </div>
                                </div>
                                
                                <div className="flex items-center gap-2 sm:gap-4">
                                    <button 
                                        onClick={() => setCurrentPage('filters')}
                                        className={`flex items-center gap-2 px-2 sm:px-4 py-2 rounded-lg transition-all duration-200 ${
                                            currentPage === 'filters' 
                                                ? 'text-blue-600 bg-blue-50 font-medium' 
                                                : 'hover:bg-slate-100'
                                        }`}>
                                        <Settings className="w-4 h-4" />
                                        <span className="hidden lg:inline">Настройки откликов</span>
                                    </button>
                                    <button 
                                        onClick={() => setCurrentPage('calendar')}
                                        className={`flex items-center gap-2 px-2 sm:px-4 py-2 rounded-lg transition-all duration-200 ${
                                            currentPage === 'calendar' 
                                                ? 'text-blue-600 bg-blue-50 font-medium' 
                                                : 'hover:bg-slate-100'
                                        }`}>
                                        <Calendar className="w-4 h-4" />
                                        <span className="hidden lg:inline">Календарь</span>
                                    </button>
                                    <button 
                                        onClick={() => setCurrentPage('applications')}
                                        className={`flex items-center gap-2 px-2 sm:px-4 py-2 rounded-lg transition-all duration-200 ${
                                            currentPage === 'applications' 
                                                ? 'text-blue-600 bg-blue-50 font-medium' 
                                                : 'hover:bg-slate-100'
                                        }`}>
                                        <FileText className="w-4 h-4" />
                                        <span className="hidden lg:inline">Отклики</span>
                                    </button>
                                    <button className="p-2 hover:bg-slate-100 rounded-lg transition-all duration-200">
                                        <Bell className="w-4 h-4 sm:w-5 sm:h-5" />
                                    </button>
                                    <div 
                                        onClick={() => setShowUserProfile && setShowUserProfile(true)}
                                        className="w-8 h-8 sm:w-10 sm:h-10 rounded-full overflow-hidden border-2 border-cyan-400 hover:border-cyan-500 transition-colors cursor-pointer"
                                    >
                                        <img src="https://i.pravatar.cc/150?img=12" alt="User" className="w-full h-full object-cover" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </nav>

                    {/* Sub Navigation */}
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6">
                        {/* Mobile Dropdown */}
                        <div className="sm:hidden">
                            <button
                                onClick={() => setSubNavOpen(!subNavOpen)}
                                className="w-full flex items-center justify-between px-4 py-3 bg-white shadow-lg shadow-blue-500/10 rounded-lg font-medium text-blue-600 border border-blue-200"
                            >
                                <div className="flex items-center gap-2">
                                    <FileText className="w-4 h-4" />
                                    <span>Выбор резюме</span>
                                </div>
                                <svg 
                                    className={`w-5 h-5 transition-transform duration-200 ${subNavOpen ? 'rotate-180' : ''}`}
                                    fill="none" 
                                    viewBox="0 0 24 24" 
                                    stroke="currentColor"
                                >
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            {subNavOpen && (
                                <div className="mt-2 bg-white rounded-lg shadow-lg border border-slate-200 overflow-hidden">
                                    <button 
                                        className="w-full flex items-center gap-2 px-4 py-3 bg-blue-50 text-blue-600 font-medium"
                                    >
                                        <FileText className="w-4 h-4" />
                                        <span>Выбор резюме</span>
                                    </button>
                                    <button 
                                        onClick={() => {
                                            setCurrentPage('templates');
                                            setSubNavOpen(false);
                                        }}
                                        className="w-full flex items-center gap-2 px-4 py-3 hover:bg-slate-50 transition-colors text-left"
                                    >
                                        <Settings className="w-4 h-4" />
                                        <span>Конструктор сопроводительного</span>
                                    </button>
                                    <button 
                                        onClick={() => {
                                            setCurrentPage('filters');
                                            setSubNavOpen(false);
                                        }}
                                        className="w-full flex items-center gap-2 px-4 py-3 hover:bg-slate-50 transition-colors text-left"
                                    >
                                        <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M3 6h18M7 12h10M10 18h4" strokeWidth="2" strokeLinecap="round"/>
                                        </svg>
                                        <span>Настройки фильтров</span>
                                    </button>
                                </div>
                            )}
                        </div>
                        {/* Desktop Navigation */}
                        <div className="hidden sm:flex items-center gap-2 sm:gap-4 lg:gap-6">
                            <button 
                                className="flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 text-xs sm:text-sm lg:text-base bg-white shadow-lg shadow-blue-500/10 rounded-lg font-medium text-blue-600 border border-blue-200 whitespace-nowrap flex-shrink-0">
                                <FileText className="w-3.5 h-3.5 sm:w-4 sm:h-4" />
                                <span>Выбор резюме</span>
                            </button>
                            <button 
                                onClick={() => setCurrentPage('templates')}
                                className="flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 text-xs sm:text-sm lg:text-base hover:bg-white/60 rounded-lg transition-all duration-200 flex-shrink-0">
                                <Settings className="w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0" />
                                <span className="whitespace-nowrap">Конструктор сопроводительного</span>
                            </button>
                            <button 
                                onClick={() => setCurrentPage('filters')}
                                className="flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 text-xs sm:text-sm lg:text-base hover:bg-white/60 rounded-lg transition-all duration-200 whitespace-nowrap flex-shrink-0">
                                <svg className="w-3.5 h-3.5 sm:w-4 sm:h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M3 6h18M7 12h10M10 18h4" strokeWidth="2" strokeLinecap="round"/>
                                </svg>
                                <span>Настройки фильтров</span>
                            </button>
                        </div>
                    </div>

                    {/* Main Content */}
                    <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8">
                        <div className="bg-white/70 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-2xl shadow-cyan-500/10 p-4 sm:p-6 lg:p-10 border border-white/60">
                            <h2 className="text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-800 mb-3 sm:mb-4">Выбор резюме</h2>
                            <p className="text-slate-600 text-sm sm:text-base lg:text-lg mb-6 sm:mb-8">
                                Выберите резюме, которое будет использоваться для автоматических откликов. Только одно резюме может быть активным одновременно.
                            </p>

                            {/* Resumes List */}
                            <div className="space-y-4">
                                {resumes.map((resume) => (
                                    <div
                                        key={resume.id}
                                        className={`relative bg-white/80 backdrop-blur-xl rounded-xl sm:rounded-2xl p-4 sm:p-6 border-2 transition-all duration-300 hover:shadow-xl ${
                                            resume.isActive
                                                ? 'border-cyan-400 shadow-xl shadow-cyan-500/20'
                                                : 'border-slate-200 hover:border-cyan-300'
                                        }`}
                                    >
                                        {/* Toggle Switch */}
                                        <div className="absolute top-4 right-4 sm:top-6 sm:right-6">
                                            <button
                                                onClick={() => toggleResume(resume.id)}
                                                className={`relative w-12 h-6 sm:w-14 sm:h-7 rounded-full transition-all duration-300 ${
                                                    resume.isActive
                                                        ? 'bg-gradient-to-r from-cyan-400 to-blue-500'
                                                        : 'bg-slate-300'
                                                }`}
                                            >
                                                <div
                                                    className={`absolute top-0.5 w-5 h-5 sm:w-6 sm:h-6 bg-white rounded-full shadow-lg transition-transform duration-300 ${
                                                        resume.isActive ? 'translate-x-6 sm:translate-x-7' : 'translate-x-0.5'
                                                    }`}
                                                />
                                            </button>
                                        </div>

                                        {/* Resume Info */}
                                        <div className="pr-16 sm:pr-20">
                                            <div className="flex items-start gap-3 sm:gap-4 mb-3 sm:mb-4">
                                                <div className="w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-lg flex items-center justify-center flex-shrink-0">
                                                    <FileText className="w-5 h-5 sm:w-6 sm:h-6 text-white" />
                                                </div>
                                                <div className="flex-1 min-w-0">
                                                    <h3 className="text-lg sm:text-xl font-bold text-slate-800 mb-1">{resume.title}</h3>
                                                    <p className="text-slate-600 text-xs sm:text-sm mb-2">{resume.description}</p>
                                                    <div className="flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs sm:text-sm text-slate-500">
                                                        <span className="flex items-center gap-1 truncate">
                                                            <svg className="w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
                                                            </svg>
                                                            <span className="truncate">{resume.fileName}</span>
                                                        </span>
                                                        <span className="flex items-center gap-1">
                                                            <Calendar className="w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0" />
                                                            <span className="hidden sm:inline">Обновлено: </span>{resume.date}
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            {resume.isActive && (
                                                <div className="mt-3 sm:mt-4 px-3 sm:px-4 py-2 bg-cyan-50 border border-cyan-200 rounded-lg">
                                                    <p className="text-xs sm:text-sm text-cyan-700 font-medium">
                                                        ✓ Это резюме активно и используется для откликов
                                                    </p>
                                                </div>
                                            )}
                                        </div>

                                        {/* Actions */}
                                        <div className="mt-4 flex flex-col sm:flex-row gap-2 sm:gap-3">
                                            <button className="flex-1 sm:flex-initial px-3 sm:px-4 py-2 bg-slate-100 hover:bg-slate-200 rounded-lg font-medium text-slate-700 transition-all duration-200 flex items-center justify-center gap-2 text-sm">
                                                <Eye className="w-4 h-4" />
                                                <span className="hidden sm:inline">Просмотреть</span>
                                                <span className="sm:hidden">Просмотр</span>
                                            </button>
                                            <button className="flex-1 sm:flex-initial px-3 sm:px-4 py-2 bg-slate-100 hover:bg-slate-200 rounded-lg font-medium text-slate-700 transition-all duration-200 flex items-center justify-center gap-2 text-sm">
                                                <svg className="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                                                </svg>
                                                Скачать
                                            </button>
                                            <button className="flex-1 sm:flex-initial px-3 sm:px-4 py-2 bg-slate-100 hover:bg-slate-200 rounded-lg font-medium text-slate-700 transition-all duration-200 flex items-center justify-center gap-2 text-sm">
                                                <svg className="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                                </svg>
                                                Редактировать
                                            </button>
                                        </div>
                                    </div>
                                ))}
                            </div>

                            {/* Add New Resume Button */}
                            <div className="mt-6 sm:mt-8 pt-6 sm:pt-8 border-t border-slate-200">
                                <button className="w-full px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-lg sm:rounded-xl font-medium hover:from-cyan-600 hover:to-blue-600 transition-all duration-200 shadow-lg shadow-cyan-500/30 hover:shadow-xl hover:shadow-cyan-500/40 flex items-center justify-center gap-2 text-sm sm:text-base">
                                    <svg className="w-4 h-4 sm:w-5 sm:h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                                    </svg>
                                    <span className="hidden sm:inline">Загрузить новое резюме</span>
                                    <span className="sm:hidden">Загрузить резюме</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // User Profile / Personal Cabinet Component
        const UserProfile = ({ onClose }) => {
            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-50 via-cyan-50/30 to-blue-50">
                    {/* Navigation */}
                    <nav className="bg-white/80 backdrop-blur-lg border-b border-slate-200/60 sticky top-0 z-50">
                        <div className="max-w-7xl mx-auto px-8 py-4">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center gap-3">
                                    <svg width="48" height="48" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" className="hover:scale-110 transition-transform duration-300">
                                        <defs>
                                            <linearGradient id="birdGradProfile" x1="0%" y1="0%" x2="100%" y2="100%">
                                                <stop offset="0%" style={{stopColor: '#06b6d4', stopOpacity: 1}} />
                                                <stop offset="50%" style={{stopColor: '#3b82f6', stopOpacity: 1}} />
                                                <stop offset="100%" style={{stopColor: '#8b5cf6', stopOpacity: 1}} />
                                            </linearGradient>
                                        </defs>
                                        <path d="M 30 50 Q 25 45, 20 47 Q 15 49, 13 53 Q 11 57, 13 61 Q 15 65, 20 67 L 25 69 L 27 71 Q 29 72, 31 71 L 33 69 Q 35 67, 35 65 L 35 55 Z" fill="url(#birdGradProfile)"/>
                                        <circle cx="17" cy="50" r="6" fill="url(#birdGradProfile)"/>
                                        <path d="M 11 50 L 3 48 Q 1 48, 1 50 Q 1 52, 3 52 L 11 50 Z" fill="#22d3ee"/>
                                        <path d="M 27 57 Q 33 53, 40 55 Q 45 57, 47 61 Q 49 65, 45 67 Q 41 69, 35 67 L 27 63 Z" fill="url(#birdGradProfile)" opacity="0.9"/>
                                        <path d="M 29 61 Q 35 59, 41 63 Q 45 67, 43 71 Q 41 75, 35 73 L 29 69 Z" fill="url(#birdGradProfile)" opacity="0.7"/>
                                        <path d="M 31 71 Q 35 75, 37 80 Q 39 85, 35 87 Q 31 85, 29 80 Z" fill="url(#birdGradProfile)" opacity="0.8"/>
                                        <path d="M 33 71 Q 39 73, 43 77 Q 47 81, 45 85 Q 41 83, 37 79 Z" fill="url(#birdGradProfile)" opacity="0.6"/>
                                        <circle cx="15" cy="49" r="1.5" fill="white"/>
                                    </svg>
                                    <div>
                                        <h1 className="text-3xl font-bold" style={{
                                            background: 'linear-gradient(135deg, #6366f1 0%, #8b5cf6 25%, #a855f7 50%, #c026d3 75%, #d946ef 100%)',
                                            WebkitBackgroundClip: 'text',
                                            WebkitTextFillColor: 'transparent',
                                            backgroundClip: 'text'
                                        }}>
                                            Colibri
                                        </h1>
                                        <p className="text-sm text-slate-500 font-medium">AI-powered job search</p>
                                    </div>
                                </div>
                                
                                <div className="flex items-center gap-4">
                                    <button 
                                        onClick={onClose}
                                        className="flex items-center gap-2 px-4 py-2 hover:bg-slate-100 rounded-lg transition-all duration-200">
                                        <svg className="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                                        </svg>
                                        <span className="hidden lg:inline">Назад</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </nav>

                    {/* Main Content */}
                    <div className="max-w-4xl mx-auto px-8 py-12">
                        <div className="bg-white/70 backdrop-blur-xl rounded-3xl shadow-2xl shadow-cyan-500/10 p-10 border border-white/60">
                            <div className="flex flex-col items-center mb-8">
                                <div className="w-32 h-32 rounded-full overflow-hidden border-4 border-cyan-400 mb-4">
                                    <img src="https://i.pravatar.cc/150?img=12" alt="User" className="w-full h-full object-cover" />
                                </div>
                                <h2 className="text-3xl font-bold text-slate-800 mb-2">Иван Иванов</h2>
                                <p className="text-slate-600 text-lg">Архитектор жилых зданий</p>
                            </div>

                            <div className="space-y-6">
                                {/* Personal Information */}
                                <div className="border-b border-slate-200 pb-6">
                                    <h3 className="text-xl font-bold text-slate-800 mb-4">Личная информация</h3>
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-slate-600 mb-1">Email</label>
                                            <p className="text-slate-800">ivan@почта.ru</p>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-600 mb-1">Телефон</label>
                                            <p className="text-slate-800">+7 9ХХ ХХХ-ХХ-ХХ</p>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-600 mb-1">Город</label>
                                            <p className="text-slate-800">Москва</p>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-slate-600 mb-1">Опыт работы</label>
                                            <p className="text-slate-800">5 лет</p>
                                        </div>
                                    </div>
                                </div>

                                {/* Settings */}
                                <div className="border-b border-slate-200 pb-6">
                                    <h3 className="text-xl font-bold text-slate-800 mb-4">Настройки</h3>
                                    <div className="space-y-3">
                                        <label className="flex items-center gap-3 cursor-pointer group">
                                            <div className="w-6 h-6 rounded-lg border-2 border-slate-300 group-hover:border-cyan-400 flex items-center justify-center transition-all duration-200 bg-gradient-to-br from-cyan-400 to-cyan-500 border-cyan-500">
                                                <svg className="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={3} d="M5 13l4 4L19 7" />
                                                </svg>
                                            </div>
                                            <span className="text-slate-700 font-medium">Email уведомления</span>
                                        </label>
                                        <label className="flex items-center gap-3 cursor-pointer group">
                                            <div className="w-6 h-6 rounded-lg border-2 border-slate-300 group-hover:border-cyan-400 flex items-center justify-center transition-all duration-200">
                                            </div>
                                            <span className="text-slate-700 font-medium">Push уведомления</span>
                                        </label>
                                    </div>
                                </div>

                                {/* Statistics */}
                                <div>
                                    <h3 className="text-xl font-bold text-slate-800 mb-4">Статистика</h3>
                                    <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                        <div className="bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl p-6 border border-cyan-200">
                                            <div className="text-3xl font-bold text-cyan-600 mb-2">24</div>
                                            <div className="text-slate-600 font-medium">Откликов отправлено</div>
                                        </div>
                                        <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200">
                                            <div className="text-3xl font-bold text-purple-600 mb-2">8</div>
                                            <div className="text-slate-600 font-medium">Интервью запланировано</div>
                                        </div>
                                        <div className="bg-gradient-to-br from-emerald-50 to-green-50 rounded-xl p-6 border border-emerald-200">
                                            <div className="text-3xl font-bold text-emerald-600 mb-2">3</div>
                                            <div className="text-slate-600 font-medium">Активных шаблонов</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Main App Component
        const App = () => {
            const [currentPage, setCurrentPage] = useState('filters');
            const [showUserProfile, setShowUserProfile] = useState(false);

            return (
                <div>
                    {showUserProfile ? (
                        <UserProfile onClose={() => setShowUserProfile(false)} />
                    ) : (
                        <>
                            {currentPage === 'filters' && <FilterSettings setCurrentPage={setCurrentPage} currentPage={currentPage} setShowUserProfile={setShowUserProfile} />}
                            {currentPage === 'applications' && <Applications setCurrentPage={setCurrentPage} currentPage={currentPage} setShowUserProfile={setShowUserProfile} />}
                            {currentPage === 'calendar' && <CalendarView setCurrentPage={setCurrentPage} currentPage={currentPage} setShowUserProfile={setShowUserProfile} />}
                            {currentPage === 'templates' && <CoverLetterTemplates setCurrentPage={setCurrentPage} currentPage={currentPage} setShowUserProfile={setShowUserProfile} />}
                            {currentPage === 'resume' && <ResumeSelection setCurrentPage={setCurrentPage} currentPage={currentPage} setShowUserProfile={setShowUserProfile} />}
                        </>
                    )}
                </div>
            );
        };

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
